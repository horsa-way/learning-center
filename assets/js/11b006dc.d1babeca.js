"use strict";(self.webpackChunklearning_center=self.webpackChunklearning_center||[]).push([[9731],{17201:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>r,contentTitle:()=>c,default:()=>d,frontMatter:()=>s,metadata:()=>t,toc:()=>l});var o=n(85893),a=n(11151);const s={},c="Processi Automatici",t={id:"business-central/business-functions/automatic-process",title:"Processi Automatici",description:"Business central ha un sistema di temporizzazione di processi automatici che permette di automatizzare alcune operazioni. Questi processi sono chiamati Codeunit e sono dei moduli che contengono del codice che viene eseguito quando viene chiamato il metodo Run.",source:"@site/docs/business-central/14-business-functions/99-automatic-process.md",sourceDirName:"business-central/14-business-functions",slug:"/business-central/business-functions/automatic-process",permalink:"/learning-center/docs/business-central/business-functions/automatic-process",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:99,frontMatter:{},sidebar:"businessCentralSidebar",previous:{title:"Business Functions",permalink:"/learning-center/docs/category/business-functions"}},r={},l=[{value:"Funzione da lanciare",id:"funzione-da-lanciare",level:2},{value:"Movimenti coda processi",id:"movimenti-coda-processi",level:2},{value:"Creazione del processo automatico",id:"creazione-del-processo-automatico",level:2},{value:"Verifica esecuzione",id:"verifica-esecuzione",level:2}];function u(e){const i={a:"a",code:"code",h1:"h1",h2:"h2",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.a)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i.h1,{id:"processi-automatici",children:"Processi Automatici"}),"\n",(0,o.jsx)(i.p,{children:"Business central ha un sistema di temporizzazione di processi automatici che permette di automatizzare alcune operazioni. Questi processi sono chiamati Codeunit e sono dei moduli che contengono del codice che viene eseguito quando viene chiamato il metodo Run."}),"\n",(0,o.jsx)(i.p,{children:"In questa pagina vedremo un caso di esempio: proveremo a creare un processo automatico che ogni giorno alle 18:00 registri tutte le journal squash create durante la giornata."}),"\n",(0,o.jsxs)(i.p,{children:["Riutilizzeremo il codice che abbiamo scritto nell'",(0,o.jsx)(i.a,{href:"../posting/exercise",children:"esercizio del posting"})," per creare il nostro processo automatico."]}),"\n",(0,o.jsx)(i.h2,{id:"funzione-da-lanciare",children:"Funzione da lanciare"}),"\n",(0,o.jsx)(i.p,{children:"Per prima cosa dobbiamo creare la codeunit che conterr\xe0 il codice che verr\xe0 eseguito."}),"\n",(0,o.jsxs)(i.p,{children:["Riutilizzando lo stesso codice dell'esercizio, abbiamo gi\xe0 la codeunit ",(0,o.jsx)(i.code,{children:'50100 "Squash Management"'}),"."]}),"\n",(0,o.jsxs)(i.p,{children:["Abbiamo per\xf2 bisogno di aggiungere il trigger ",(0,o.jsx)(i.code,{children:"OnRun"}),", questo sar\xe0 il metodo che verr\xe0 eseguito quando il processo automatico viene avviato."]}),"\n",(0,o.jsx)(i.p,{children:"All'interno di questo trigger dobbiamo mettere il codice che ci serve per registrare i journal squash. Dobbiamo cercare una journal squash line sulla base di una coppia template-batch journal e andare a lanciare la codeunit di posting con il record trovato:"}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-al",children:'    trigger OnRun()\n    var\n        SquashJnlLine: Record "Squash Journal Line";\n    begin\n        SquashJnlLine.SetRange("Journal Template Name", \'SQUASH\');\n        SquashJnlLine.SetRange("Journal Batch Name", \'DEFAULT\');\n        if SquashJnlLine.FindFirst() then\n            CODEUNIT.Run(CODEUNIT::"Squash Jnl.-Post", SquashJnlLine);\n    end;\n'})}),"\n",(0,o.jsx)(i.p,{children:"Ora che abbiamo la codeunit con il codice OnRun che ci serve, dobbiamo creare il processo automatico che la lancer\xe0."}),"\n",(0,o.jsx)(i.h2,{id:"movimenti-coda-processi",children:"Movimenti coda processi"}),"\n",(0,o.jsxs)(i.p,{children:["Andiamo a cercare la pagina ",(0,o.jsx)(i.code,{children:"Movimenti coda processi"})," in Business Central:"]}),"\n",(0,o.jsx)(i.p,{children:(0,o.jsx)(i.img,{alt:"AUT1",src:n(83788).Z+"",width:"1762",height:"416"})}),"\n",(0,o.jsx)(i.p,{children:"Questa pagina contiene tutti i processi automatici che sono stati creati."}),"\n",(0,o.jsx)(i.p,{children:"Ogni record ha una stato, che pu\xf2 essere:"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:'"In attesa": se il processo automatico \xe8 stato creato ma non \xe8 stato ancora schedulato'}),"\n",(0,o.jsx)(i.li,{children:'"Pronto": se il processo automatico \xe8 stato schedulato e sta aspettando di essere eseguito'}),"\n",(0,o.jsx)(i.li,{children:'"In esecuzione": se il processo automatico \xe8 in esecuzione in quel momento'}),"\n",(0,o.jsx)(i.li,{children:'"Errore": se il processo automatico ha generato un errore e quindi si \xe8 bloccato'}),"\n"]}),"\n",(0,o.jsx)(i.h2,{id:"creazione-del-processo-automatico",children:"Creazione del processo automatico"}),"\n",(0,o.jsx)(i.p,{children:"Andiamo a creare un nuovo record, con i seguenti dati:"}),"\n",(0,o.jsx)(i.p,{children:(0,o.jsx)(i.img,{alt:"AUT2",src:n(57345).Z+"",width:"1767",height:"885"})}),"\n",(0,o.jsx)(i.p,{children:"Impostiamo la codeunit che abbiamo creato come codeunit da lanciare e impostiamo la frequenza di esecuzione ad una volta al giorno (1440 minuti) alle 18:00."}),"\n",(0,o.jsx)(i.p,{children:'Torniamo nella schermata precedente e vedremo il nuovo record creato, ma in stato "In attesa". Selezionare il record e cliccare su "Imposta stato su Pronto" per schedulare il processo automatico alla prima ora disponibile.'}),"\n",(0,o.jsx)(i.h2,{id:"verifica-esecuzione",children:"Verifica esecuzione"}),"\n",(0,o.jsxs)(i.p,{children:["Per verificare le esecuzioni di un processo automatico, possiamo andare nella pagina ",(0,o.jsx)(i.code,{children:"Voci Log"}),":\n",(0,o.jsx)(i.img,{alt:"AUT3",src:n(80819).Z+"",width:"1767",height:"558"})]})]})}function d(e={}){const{wrapper:i}={...(0,a.a)(),...e.components};return i?(0,o.jsx)(i,{...e,children:(0,o.jsx)(u,{...e})}):u(e)}},83788:(e,i,n)=>{n.d(i,{Z:()=>o});const o=n.p+"assets/images/AUT1-34f6157574c9e99f1efa61c5e238b316.png"},57345:(e,i,n)=>{n.d(i,{Z:()=>o});const o=n.p+"assets/images/AUT2-b86b534af008b8b37e0caba08f924d1f.png"},80819:(e,i,n)=>{n.d(i,{Z:()=>o});const o=n.p+"assets/images/AUT3-67395fc2d5245889e81dc872db1b8cce.png"},11151:(e,i,n)=>{n.d(i,{Z:()=>t,a:()=>c});var o=n(67294);const a={},s=o.createContext(a);function c(e){const i=o.useContext(s);return o.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function t(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:c(e.components),o.createElement(s.Provider,{value:i},e.children)}}}]);